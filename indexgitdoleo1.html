<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livro com Virada de P√°gina Realista</title>
    <style>
        /* Estilos CSS */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }

        .book {
            width: 800px; /* Largura maior para exibi√ß√£o ampliada */
            height: 500px; /* Altura maior para exibi√ß√£o ampliada */
            position: relative;
            perspective: 1000px;
        }

        .page {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            box-sizing: border-box;
            transform-style: preserve-3d;
            backface-visibility: hidden;
            transition: transform 1s ease-in-out;
            transform-origin: left center; /* Ponto de origem da transforma√ß√£o */
            overflow: hidden; /* Evita que o conte√∫do ultrapasse os limites da p√°gina */
        }

        /* Esconde todas as p√°ginas, exceto a primeira */
        .page:not(:first-child) {
            transform: rotateY(180deg);
        }

        .controls {
            margin-top: 20px;
            display: flex;
            gap: 20px;
        }

        .hand-button {
            font-size: 32px;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
        }

        /* Efeito de sombra durante a virada */
        .page.flipping {
            box-shadow: -10px 0 20px rgba(0, 0, 0, 0.2);
        }

        /* Bot√£o de fechar */
        .close-button {
            position: absolute;
            top: -40px; /* Posiciona acima do livro */
            right: 0;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: #333;
            z-index: 1000; /* Garante que fique acima de tudo */
        }

        /* Estilo para imagens */
        .page img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ajusta a imagem para caber inteira na p√°gina */
        }

        /* Estilo para o bot√£o de imprimir */
        .print-button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
        }

        .print-button:hover {
            background-color: #0056b3;
        }

        /* Estilos espec√≠ficos para impress√£o */
        @media print {
            body * {
                visibility: hidden; /* Oculta todos os elementos */
            }

            .book {
                width: 100%;
                height: auto;
                position: static;
                box-shadow: none;
                visibility: visible; /* Exibe o livro */
            }

            .page {
                position: static;
                transform: none;
                box-shadow: none;
                margin-bottom: 20px; /* Espa√ßo entre as p√°ginas na impress√£o */
                page-break-after: always; /* For√ßa uma quebra de p√°gina ap√≥s cada p√°gina */
                visibility: visible; /* Exibe as p√°ginas */
            }

            .controls, .close-button, .print-button {
                display: none; /* Oculta os bot√µes durante a impress√£o */
            }
        }
    </style>
</head>
<body>
    <!-- Estrutura HTML -->
    <div class="book" id="book">
        <button class="close-button" id="closeButton">‚úñ</button>
        <div class="page" id="page1"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina1.jpg" alt="P√°gina 1"></div>
        <div class="page" id="page2"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina2.jpg" alt="P√°gina 2"></div>
        <div class="page" id="page3"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina3.jpg" alt="P√°gina 3"></div>
        <div class="page" id="page4"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina4.jpg" alt="P√°gina 4"></div>
        <div class="page" id="page5"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina5.jpg" alt="P√°gina 5"></div>
        <div class="page" id="page6"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina6.jpg" alt="P√°gina 6"></div>
        <div class="page" id="page7"><img src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/pagina7.jpg" alt="P√°gina 7"></div>
    </div>

    <!-- Controles com √≠cones de m√£o -->
    <div class="controls">
        <button class="hand-button" id="prevPage">üëà</button>
        <button class="hand-button" id="nextPage">üëâ</button>
    </div>

    <!-- Bot√£o de imprimir -->
    <button class="print-button" id="printButton">Imprimir</button>

    <!-- √Åudio para o som de p√°gina virando -->
    <audio id="pageSound">
        <source src="https://raw.githubusercontent.com/DavissonCoelho/avantlube/main/page-flip-sound.mp3" type="audio/mpeg">
        Seu navegador n√£o suporta o elemento de √°udio.
    </audio>

    <script>
        // JavaScript para navega√ß√£o e efeitos
        let currentPage = 1;
        const totalPages = document.querySelectorAll('.page').length;
        const pageSound = document.getElementById('pageSound');

        function flipPage(direction) {
            if (
                (direction === 'next' && currentPage < totalPages) ||
                (direction === 'prev' && currentPage > 1)
            ) {
                const currentPageElement = document.getElementById(`page${currentPage}`);
                currentPageElement.classList.add('flipping');

                // Toca o som de p√°gina virando
                if (pageSound) {
                    pageSound.currentTime = 0; // Reinicia o som
                    pageSound.play();
                }

                setTimeout(() => {
                    if (direction === 'next') {
                        // Vira a p√°gina atual para a esquerda
                        currentPageElement.style.transform = 'rotateY(-180deg)';
                        currentPage++;
                    } else {
                        // Vira a p√°gina atual para a direita
                        currentPageElement.style.transform = 'rotateY(180deg)';
                        currentPage--;
                    }

                    // Revela a pr√≥xima p√°gina
                    const nextPageElement = document.getElementById(`page${currentPage}`);
                    if (nextPageElement) {
                        nextPageElement.style.transform = 'rotateY(0deg)';
                    }

                    // Remove a classe de anima√ß√£o
                    currentPageElement.classList.remove('flipping');
                }, 1000); // Tempo da anima√ß√£o
            }
        }

        // Eventos dos bot√µes
        document.getElementById('nextPage').addEventListener('click', () => flipPage('next'));
        document.getElementById('prevPage').addEventListener('click', () => flipPage('prev'));

        // Bot√£o de fechar
        document.getElementById('closeButton').addEventListener('click', () => {
            const confirmClose = confirm("Tem certeza que deseja sair?");
            if (confirmClose) {
                try {
                    window.close(); // Tenta fechar a janela/aba
                } catch (error) {
                    // Se o navegador bloquear o fechamento, exibe uma mensagem
                    alert("Por favor, feche a aba/janela manualmente usando o bot√£o de fechar do navegador.");
                }
            }
        });

        // Bot√£o de imprimir
        document.getElementById('printButton').addEventListener('click', () => {
            const printOption = prompt("Digite o n√∫mero da p√°gina que deseja imprimir (1 a 7) ou 'tudo' para imprimir todas as p√°ginas:");

            if (printOption === null) {
                return; // Usu√°rio cancelou
            }

            if (printOption.toLowerCase() === 'tudo') {
                // Imprime todas as p√°ginas
                window.print();
            } else {
                const pageNumber = parseInt(printOption);
                if (pageNumber >= 1 && pageNumber <= 7) {
                    // Oculta todas as p√°ginas, exceto a selecionada
                    document.querySelectorAll('.page').forEach((page, index) => {
                        if (index + 1 === pageNumber) {
                            page.style.display = 'block';
                        } else {
                            page.style.display = 'none';
                        }
                    });

                    // Abre a caixa de di√°logo de impress√£o
                    window.print();

                    // Restaura a exibi√ß√£o de todas as p√°ginas ap√≥s a impress√£o
                    document.querySelectorAll('.page').forEach((page) => {
                        page.style.display = 'block';
                    });
                } else {
                    alert("Op√ß√£o inv√°lida. Digite um n√∫mero de 1 a 7 ou 'tudo'.");
                }
            }
        });

        // Garante que a p√°gina 1 esteja vis√≠vel inicialmente
        document.getElementById('page1').style.transform = 'rotateY(0deg)';
        document.getElementById('page2').style.transform = 'rotateY(180deg)';
        document.getElementById('page3').style.transform = 'rotateY(180deg)';
        document.getElementById('page4').style.transform = 'rotateY(180deg)';
        document.getElementById('page5').style.transform = 'rotateY(180deg)';
        document.getElementById('page6').style.transform = 'rotateY(180deg)';
        document.getElementById('page7').style.transform = 'rotateY(180deg)';
    </script>
</body>
</html>